<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<button onclick="myClick()">button</button>
	</body>
	<script src="//cdn.bootcss.com/FileSaver.js/2014-11-29/FileSaver.js"></script>
	<script type="text/javascript">
		function myClick(){
//			console.log('nihao')
			var blob = new Blob(["Hello, world!"], {type: "text/plain;charset=utf-8"});
			saveAs(blob, "hello world.txt");
		}
//		var BlobBuilder = BlobBuilder || WebKitBlobBuilder || MozBlobBuilder;
//		var URL = URL || webkitURL || window;
//		function saveAs(blob, filename) {
//		    var type = blob.type;
//		    var force_saveable_type = 'application/octet-stream';
//		    if (type && type != force_saveable_type) { // 强制下载，而非在浏览器中打开
//		        var slice = blob.slice || blob.webkitSlice || blob.mozSlice;
//		        blob = slice.call(blob, 0, blob.size, force_saveable_type);
//		    }
//		    var url = URL.createObjectURL(blob);
//		    var save_link = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
//		    save_link.href = url;
//		    save_link.download = filename;
//		    var event = document.createEvent('MouseEvents');
//		    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
//		    save_link.dispatchEvent(event);
//		    URL.revokeObjectURL(url);
//		}
//		var bb = new BlobBuilder;
//		bb.append('Hello, world!');
//		saveAs(bb.getBlob('text/plain;charset=utf-8'), 'hello world.txt');
	</script>
</html>
