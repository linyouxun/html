<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	
	<script src="js/jquery.js"></script>
	<script src="js/angular.js"></script>
	<script src="js/sortable.js"></script>
	
	<body ng-app="myApp" ng-controller="myCtrl">
		{{test}}
		
		<ul ui-sortable="sortableOptions" ng-nodel="items" style="list-style: none; padding: 0; margin: 0;" >
			<li ng-repeat="item in list">
				{{item}}
			</li>
		</ul>
		
		
		<script type="text/javascript">
			var app = angular.module("myApp",['ui.sortable'])
			
			app.buildArray = function(name, size) {
			  var i, array = [];
			  for (i = 1; i <= size; i++){
			    array.push({
			      text: name + ' ' + i ,
			      value: i
			    });
			  }
			
			  return array;
			};
			
			app.controller("myCtrl",["$scope","$http",function($scope,$http){
//				$scope.test = "test"
//				$scope.items = ["a","i","c","d","e","f","g","h","b"]
//				$scope.sortingLog = [];
//				$scope.sortableOptions = {
//				    // called after a node is dropped
//				    stop: function(e, ui) {
//				    	console.log(e)
//				    	console.log(ui)
//				      var logEntry = {
//				        ID: $scope.sortingLog.length + 1,
//				        Text: 'Moved element: ' + ui.item.scope().item.text
//				      };
//				      $scope.sortingLog.push(logEntry);
//				    }
//				  };
				'use strict';
				
				  $scope.list = app.buildArray('Item', 5);
				
				  $scope.sortingLog = [];
				
				  $scope.sortableOptions = {
				    // called after a node is dropped
				    stop: function(e, ui) {
				      var logEntry = {
				        ID: $scope.sortingLog.length + 1,
				        Text: 'Moved element: ' + ui.item.scope().item.text
				      };
				      $scope.sortingLog.push(logEntry);
				    }
				  };

			}])
		</script>
	</body>
</html>
